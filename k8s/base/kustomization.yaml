apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: threads

resources:
  - namespace.yaml
  - cluster-secret-store.yaml
  - external-secret-nextauth.yaml
  - external-secret-postgres.yaml
  - postgres.yaml
  - ml-service.yaml
  - nextjs.yaml
  - cloudflared.yaml
# All secrets now managed via External Secrets Operator
# - nextauth-secret: synced from GCP Secret Manager (alice/bob passwords, auth secret)
# - postgres-password: synced from GCP Secret Manager
# - gcr-json-key: managed via terraform/modules/argocd-image-updater
